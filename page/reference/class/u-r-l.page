---
title: Class `URL`
description: Extract current URL data.
...

### Long

~~~ .xmp.php
URL::long($url, $root = true);
~~~

Convert relative URL into full URL:

~~~ .php
__test__(
    URL::long(""),
    URL::long('foo'),
    URL::long('?foo'),
    URL::long('&foo'),
    URL::long('#foo'),
    URL::long('javascript:;'),
    URL::long('foo/bar'),
    URL::long('//foo'),
    URL::long('http://foo'),
    URL::long('/'),
    URL::long('/foo'),
    URL::long('/?foo'),
    URL::long('/&foo'),
    URL::long('/#foo'),
    URL::long('/javascript:;'),
    URL::long('/foo/bar')
);
~~~

> **Note:** If `$root` is `false`, then a `/` character at the beginning of URL path will be ignored, and the result will always relative to the URL path where the CMS is being installed. The `$root` parameter changes makes sense only when **Mecha** is installed in a sub–directory.

Result:

~~~ .no-highlight
http://localhost/sub-directory
~~~

~~~ .no-highlight
http://localhost/sub-directory/foo
~~~

~~~ .no-highlight
?foo
~~~

~~~ .no-highlight
&foo
~~~

~~~ .no-highlight
#foo
~~~

~~~ .no-highlight
javascript:;
~~~

~~~ .no-highlight
http://localhost/sub-directory/foo/bar
~~~

~~~ .no-highlight
//foo
~~~

~~~ .no-highlight
http://foo
~~~

~~~ .no-highlight
http://localhost/foo
~~~

~~~ .no-highlight
?foo
~~~

~~~ .no-highlight
&foo
~~~

~~~ .no-highlight
#foo
~~~

~~~ .no-highlight
javascript:;
~~~

~~~ .no-highlight
http://localhost/foo/bar
~~~

### Short

~~~ .xmp.php
URL::short($url, $root = true);
~~~

Convert full URL into relative URL:

~~~ .php
__test__(
    URL::short('http://localhost/sub-directory'),
    URL::short('http://localhost/sub-directory/foo'),
    URL::short('http://localhost/sub-directory?foo'),
    URL::short('http://localhost/sub-directory&foo'),
    URL::short('http://localhost/sub-directory#foo'),
    URL::short('http://localhost/sub-directory/javascript:;'),
    URL::short('http://localhost/sub-directory/foo/bar'),
    URL::short('//foo'),
    URL::short('http://foo'),
    URL::short('http://localhost/sub-directory', false),
    URL::short('http://localhost/sub-directory/foo', false),
    URL::short('http://localhost/sub-directory?foo', false),
    URL::short('http://localhost/sub-directory&foo', false),
    URL::short('http://localhost/sub-directory#foo', false),
    URL::short('http://localhost/sub-directory/javascript:;', false),
    URL::short('http://localhost/sub-directory/foo/bar', false),
    URL::short('//foo', false),
    URL::short('http://foo', false)
);
~~~

> **Note:** If `$root` is `false`, then the sub–directory path where the CMS is being installed will be removed too, and the leading `/` will also be removed. The `$root` parameter changes makes sense only when **Mecha** is installed in a sub–directory.

Result:

~~~ .no-highlight
/sub-directory
~~~

~~~ .no-highlight
/sub-directory/foo
~~~

~~~ .no-highlight
/sub-directory?foo
~~~

~~~ .no-highlight
/sub-directory&foo
~~~

~~~ .no-highlight
/sub-directory#foo
~~~

~~~ .no-highlight
/sub-directory/javascript:;
~~~

~~~ .no-highlight
/sub-directory/foo/bar
~~~

~~~ .no-highlight
//foo
~~~

~~~ .no-highlight
http://foo
~~~

~~~ .no-highlight

~~~

~~~ .no-highlight
foo
~~~

~~~ .no-highlight
?foo
~~~

~~~ .no-highlight
&foo
~~~

~~~ .no-highlight
#foo
~~~

~~~ .no-highlight
javascript:;
~~~

~~~ .no-highlight
foo/bar
~~~

~~~ .no-highlight
//foo
~~~

~~~ .no-highlight
http://foo
~~~

---

### Advance

#### Constructor

~~~ .xmp.php
URL();
~~~

Inspect URL properties:

~~~ .php
$url = new URL();

echo $url->path; // return the URL path
echo $url->path('#'); // return the URL path if any, otherwise, return `#`
echo $url; // return `$url->url` (the base URL)
~~~

The available properties:

~~~ .no-highlight
// http://localhost/sub-directory/foo/bar?foo=bar#foo

$url → http://localhost/sub-directory
 │
 ├── scheme: http
 ├── protocol: http://
 ├── host: localhost
 ├── port: 80
 ├── user: null ← or depends on `$_SESSION['url']['user']`
 ├── pass: null ← or depends on `$_SESSION['url']['pass']`
 ├── directory: sub-directory
 ├── url: http://localhost/sub-directory
 ├── path: foo/bar
 ├── query: ?foo=bar
 ├── previous: null ← or depends on `$_SESSION['url']['previous']`
 ├── current: http://localhost/sub-directory/foo/bar
 ├── next: null ← or depends on `$_SESSION['url']['next']`
 └── hash: null ← or depends on `$_COOKIE['url']['hash']`
~~~